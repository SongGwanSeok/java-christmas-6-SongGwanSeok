# ⛄️ 미션 - 크리스마스 프로모션

- 보낸 사람: 개발팀 <dev@woowacourse.io>
- 받는 사람: 비즈니스팀 <biz@woowacourse.io>

## 제목: 12월 이벤트 요구사항 확인 및 정리

> 안녕하세요 개발팀 송관석입니다. <br>
> 보내주신 메일 잘 확인했습니다. 보내주신 내용을 토대로 기능 요구사항을 정리하고 이벤트 플래너 수행 과정을 정리해봤습니다.<br>
> 필요하다고 생각되는 도메인을 정리하고 개발을 진행했으니 확인하시고 추가 요청사항이나 변경사항이 있다면 회신 부탁드립니다.

### ❄️ 기능 요구사항 ❄️

### 이벤트 계획 정리

- 할인
    1. 이벤트 기간(2023.12.1 ~ 2023.12.25) 동안 1,000원으로 시작해 날마다 100원씩 증가하는 금액만큼 총 주문 금액에서 할인
    2. 평일(일요일 ~ 목요일)에는 디저트 메뉴를 메뉴 1개당 2,023원 할인
    3. 주말(금요일 ~ 토요일)에는 메인 메뉴를 메뉴 1개당 2,023원 할인
    4. 특별 할인: 이벤트 달력에 별이 있으면(일요일, 크리스마스 당일) 총 주문 금액에서 1,000원 할인
- 증정
    1. 할인 전 총주문 금액이 12만원 이상일 때, 샴페인 1개 증정
    2. 총 혜택 금액에 따라 이벤트 배지를 부여
        - 2024 새해 이벤트에서 활용
        - (5천원 이상 : 별, 1만원 이상 : 트리, 2만원 이상 : 산타)
- 주의 사항
    1. 총 주문 금액 10,000원 이상부터 이벤트가 적용
    2. 음료만 주문 시, 주문할 수 없다.
    3. 메뉴는 한 번에 최대 20개까지만 주문이 가능 (종류가 20개가 아니라 총 갯수)

### 🗓️ 이벤트 플래너 수행 과정 🗓️

```
 주의 사항
- 총주문 금액 10,000원 이상부터 이벤트를 적용된다.
- 음료만 주문 시, 주문할 수 없다.
- 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다.
  (e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)
```

1. 프로그램 시작
2. 방문 날짜 입력받기
    - validation
        1. 빈 값인지 확인
        2. 숫자인지 확인
        3. 1 이상 31 이하의 숫자인지 확인
3. 메뉴 입력
    - "해산물파스타-2,레드와인-1,초코케이크-1" 형식의 입력
    - validation
        1. 빈 값인지 확인
        2. 오른쪽 메뉴가 메뉴판에 있는지 확인
        3. 메뉴에 중복이 있는지 확인
        4. 갯수가 1 이상인지 확인
        5. 갯수의 총 합이 20개 이하인지 확인
4. 주문 메뉴 출력
    - 타파스 1개 형식으로 줄바꿈을 통해 출력
5. 총 주문 금액 출력
    - #,### 형식으로 출력
6. 증정메뉴 확인
    - 총 주문 금액이 12만원 이상인 경우 증정메뉴 생성
7. D-day 할인 확인
    - 날짜를 확인해 첫날 1,000원을 기준으로 하루에 100원씩 할인금액 증가
    - D-day 할인만 기간이 12월 25일 까지이다.
8. 날짜 할인 확인
    - 날짜를 확인해 조건에 맞게 할인
        1. 평일 (일 - 목): 디저트 메뉴를 메뉴 1개당 2,023원 할인
        2. 주말 (금 - 토): 메인 메뉴를 메뉴 1개당 2,023원 할인
9. 특별 할인 확인
    - 날짜를 확인해 일요일이거나 25일이라면 총 금액에서 1,000원 할인
10. 혜택 내역 출력
    - D-day, 날짜, 특별, 증정품 할인 순으로 출력
11. 총 혜택 금액 출력
12. 할인 후 예상 결제 금액 출력
13. 총 혜택 금액을 기준으로 뱃지(badge) 부여
    - 내년 새해 이벤트에 사용
    - 5천원 이상 : 별, 1만원 이상 : 트리, 2만원 이상 : 산타
14. 프로그램 종료

### 🧭 도메인 구상도 🧭

<img src="https://velog.velcdn.com/images/sgs980902/post/a26ea951-924e-426c-8a68-747b662f462c/image.png" width="80%">
<img src="https://velog.velcdn.com/images/sgs980902/post/fedc84e0-80e8-4b9e-8eb8-4be1c1b1368a/image.png" width="80%">

도메인은 크게 두가지 역할로 나누어집니다.

1. 주문과 관련된 도메인 (order)
    - Date: 날짜를 관리하는 모델
    - Menu: 메뉴판에 있는 메뉴들이 정의되어 있는 모델
    - MenuType: 메뉴의 타입이 정의되어 있는 모델
    - Order: 메뉴가 몇개있는지 매핑되어 있는 모델
    - Orders: 주문들의 전체적인 관리는 담당하는 모델
    - UserOrder: 방문날짜와 주문서를 포함하는 모델
2. 프로모션 이벤트와 관련된 도메인 (promotion)
    - Badge: 총혜택 금액에 따라 부여되는 뱃지 모델
    - Discount: 할인 정책을 통해 각각의 할인 금액을 계산하는 모델
    - DiscountPolicy: 할인 정책이 들어있는 모델
    - Benefit: 혜택 내역을 담는 모델
    - Present: 총 주문 금액에 따라 부여되는 증정품 모델
    - Promotion: Present, Discounts, Badge를 관리하는 모델
